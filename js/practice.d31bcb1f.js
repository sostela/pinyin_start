(function(t){function e(e){for(var r,s,c=e[0],o=e[1],p=e[2],h=0,d=[];h<c.length;h++)s=c[h],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&d.push(i[s][0]),i[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,p||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var o=n[c];0!==i[o]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={practice:0},a=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var p=0;p<c.length;p++)e(c[p]);var u=o;a.push([1,"chunk-vendors","chunk-common"]),n()})({1:function(t,e,n){t.exports=n("46ea")},"16f8":function(t,e,n){},4059:function(t,e,n){},4507:function(t,e,n){"use strict";var r=n("16f8"),i=n.n(r);i.a},"46ea":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("8bbf"),i=n.n(r),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"practice"}},[n("Setting",{attrs:{current_scheme_index:t.current_scheme_index},on:{"update:current_scheme_index":function(e){t.current_scheme_index=e}}}),t.is_mobile?n("MobileInput",{attrs:{keyinput:t.keyinput},on:{"update:keyinput":function(e){t.keyinput=e}}}):t._e(),n("div",{class:{show:t.key_tip},attrs:{id:"prefer_key",title:"按键提示"},on:{click:function(e){t.key_tip=!t.key_tip}}},[t._v(t._s(t.prefer_key))]),n("div",{attrs:{id:"container"}},[n("div",{attrs:{id:"chapter_detail"}},[n("div",{staticClass:"title"},[t._v(t._s(t.current_chapter.title))]),t._l(t.current_chapter.words,(function(t,e){return n("div",{key:e},[n("Words",{key:e,attrs:{line:t,words_index:e+1}})],1)}))],2),n("ChapterList",{attrs:{chapters:t.chapters,current_index:t.current_index},on:{"update:current_index":function(e){t.current_index=e}}})],1),n("Support_QRcode")],1)},s=[],c=(n("99af"),n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("1276"),n("498a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"words",attrs:{words_index:t.words_index}},t._l(t.line,(function(t,e){return n("Word",{key:t,attrs:{word_index:e+1,item:t}})})),1)}),o=[],p=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"word",attrs:{word_index:t.word_index}},[n("div",{staticClass:"pinyin"},[n("span",{staticClass:"sheng"},[t._v(t._s(t.sheng))]),n("span",{staticClass:"yun"},[t._v(t._s(t.yun))])]),n("div",{staticClass:"char"},[t._v(t._s(t.char))])])}),u=[],h=n("f248"),d={name:"Word",data:function(){return{char:"",sheng:"",yun:""}},props:{item:Object,word_index:Number},mounted:function(){this.char=this.item.char,this.isSymbol(this.item.pinyin.trim().charAt(0))||(this.sheng=h["a"].get_pinyin_parts(this.item.pinyin).first,this.yun=h["a"].get_pinyin_parts(this.item.pinyin).second)},methods:{isSymbol:function(t){var e=',.\'"‘’“”〝〞（）〈〉‹›﹛﹜『』〖〗［］《》〔〕{}「」【】。，、＇：∶；?ˆˇ﹕︰﹔﹖﹑·¨….¸;！´？！～—ˉ｜‖＂〃｀@﹫¡¿﹏﹋﹌︴々﹟#﹩$﹠&﹪%*﹡﹢﹦﹤‐￣¯―﹨ˆ˜﹍﹎+=<­­＿_-ˇ~﹉﹊︵︷︿︹︽_﹁﹃︻︶︸﹀︺︾ˉ﹂﹄︼"';return e.indexOf(t)>-1}}},l=d,_=(n("f34c"),n("2877")),f=Object(_["a"])(l,p,u,!1,null,null,null),m=f.exports,g={name:"Words",data:function(){return{}},props:{line:Array,words_index:Number},components:{Word:m},mounted:function(){}},v=g,y=Object(_["a"])(v,c,o,!1,null,null,null),w=y.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"setting"}},[n("div",[n("span",[t._v("当前方案")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.cs_index,expression:"cs_index"}],attrs:{title:"添加新方案请到首页"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.cs_index=e.target.multiple?n:n[0]}}},t._l(t.schemes,(function(e,r){return n("option",{key:r,domProps:{value:r}},[t._v(" "+t._s(e.name)+" ")])})),0)]),n("div",[n("button",{on:{click:function(e){t.show_Chapter_Manager=!0}}},[t._v("管理文章")]),n("button",{on:{click:function(e){t.show_Chapter_Dialog=!0}}},[t._v("添加文章")])]),t.show_Chapter_Manager?n("ChapterManager",{attrs:{show_Chapter_Manager:t.show_Chapter_Manager},on:{"update:show_Chapter_Manager":function(e){t.show_Chapter_Manager=e},"update:show_-chapter_-manager":function(e){t.show_Chapter_Manager=e}}}):t._e(),t.show_Chapter_Dialog?n("ChapterDialog",{attrs:{show_Chapter_Dialog:t.show_Chapter_Dialog},on:{"update:show_Chapter_Dialog":function(e){t.show_Chapter_Dialog=e},"update:show_-chapter_-dialog":function(e){t.show_Chapter_Dialog=e}}}):t._e()],1)},k=[],C=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"ChapterDialog"}},[n("div",{staticClass:"action"},[n("div",[n("button",{attrs:{disabled:!t.is_access_check},on:{click:t.add_chapter}},[t._v("保存")])]),n("div",{staticClass:"close",on:{click:function(e){return t.toggle_dialog()}}},[n("button",[t._v("取消")])])]),n("div",{staticClass:"content"},[n("div",{staticClass:"display"},[n("div",{staticClass:"title"},[t._v(t._s(t.chapter.title))]),t._l(t.chapter.words,(function(t,e){return n("div",{key:e},[n("Words",{key:e,attrs:{line:t,words_index:e+1}})],1)}))],2),n("div",{staticClass:"edit"},[n("div",{staticClass:"title"},[n("label",{attrs:{for:"edit_title"}},[t._v("文章标题：(利用 百度搜索“在线汉字转拼音”找到可用的工具)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.pre_chapter.title,expression:"pre_chapter.title"}],staticClass:"title",attrs:{type:"text",id:"edit_title"},domProps:{value:t.pre_chapter.title},on:{input:function(e){e.target.composing||t.$set(t.pre_chapter,"title",e.target.value)}}})]),n("div",{staticClass:"words"},[t._m(0),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.pre_chapter.words,expression:"pre_chapter.words"}],staticClass:"words",attrs:{name:"",id:"edit_words"},domProps:{value:t.pre_chapter.words},on:{input:function(e){e.target.composing||t.$set(t.pre_chapter,"words",e.target.value)}}})])]),n("div",{staticClass:"pinyin"},[t._m(1),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.pre_chapter.pinyin,expression:"pre_chapter.pinyin"}],staticClass:"pinyin",attrs:{name:"",id:"edit_pinyin"},domProps:{value:t.pre_chapter.pinyin},on:{input:function(e){e.target.composing||t.$set(t.pre_chapter,"pinyin",e.target.value)}}})])])])])])}),b=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:"edit_words"}},[t._v("文章内容：(符号必须与下框拼音中符号个数一致，位置一致)")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:"edit_pinyin"}},[t._v("文章拼音：(空格隔开，拼音个数与内容文字个数必须相等)")])])}],S=(n("a434"),n("2909")),j=n("460a"),$={name:"ChapterDialog",data:function(){return{show_dialog:!0,chapter:{title:"",words:[]},pre_chapter:{title:"如梦令·常记溪亭日暮",words:"作者：李清照\n\t\t\t\t常记溪亭日暮，沉醉不知归路。\n\t\t\t\t兴尽晚回舟，误入藕花深处。\n\t\t\t\t争渡，争渡，惊起一滩鸥鹭。",pinyin:"zuò zhě ： lǐ qīng zhào\n\t\t\t\tcháng jì xī tíng rì mù ， chén zuì bù zhī guī lù 。\n\t\t\t\txìng jìn wǎn huí zhōu ， wù rù ǒu huā shēn chù 。\n\t\t\t\tzěn dù ， zěn dù ， jīng qǐ yī tān ōu lù 。"},is_access_check:!1}},components:{Words:w},props:{show_Chapter_Dialog:Boolean},mounted:function(){},computed:{},methods:{toggle_dialog:function(){this.show_dialog=!1},add_chapter:function(){if(this.is_access_check){var t=localStorage.getItem("chapters");t=t?j["a"].get("chapters"):[],t.push(this.chapter),j["a"].set("chapters",t)}this.$parent.$parent.updateChapters(),this.toggle_dialog()},update_access_check:function(){this.is_access_check=!0},updateChapter:function(){var t,e=this.format_chapter(this.pre_chapter);this.chapter.title=e.title,(t=this.chapter.words).splice.apply(t,[0,this.chapter.words.length].concat(Object(S["a"])(e.words))),this.update_access_check()},format_chapter:function(t){var e={};e.title=t.title,e.words=[];for(var n=t.words.split("\n"),r=t.pinyin.split("\n"),i=Math.min(n.length,r.length),a=0;a<i;a++){for(var s=n[a].trim().replace(/\s/g,"").split(""),c=r[a].trim().split(" "),o=Math.min(s.length,c.length),p=[],u=0;u<o;u++)p.push({char:s[u],pinyin:c[u]});p.length>0&&e.words.push(p)}return e}},watch:{show_dialog:function(t){this.$emit("update:show_Chapter_Dialog",t)},pre_chapter:{handler:"updateChapter",deep:!0,immediate:!0}}},M=$,O=(n("aae6"),Object(_["a"])(M,C,b,!1,null,null,null)),z=O.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"ChapterManager"}},[n("div",[n("div",{staticClass:"action"},[n("div",[n("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"import_file",accept:".json"},on:{change:t.import_chapters}}),n("button",{on:{click:t.import_pop}},[t._v("导入文章")])]),n("div",[n("button",{on:{click:t.export_chapters}},[t._v("导出文章")])]),n("div",[n("button",{on:{click:t.save_chapters}},[t._v("保存")])]),n("div",{staticClass:"close",on:{click:function(e){return t.toggle_dialog()}}},[n("button",[t._v("取消")])])])]),n("div",{staticClass:"list"},t._l(t.chapters,(function(e,r){return n("div",{key:r},[n("span",{staticClass:"title"},[t._v(" "+t._s(r+1)+" . "+t._s(e.title)+" ")]),n("span",[n("button",{on:{click:function(e){return t.delete_chapter(r)}}},[t._v("删除")])])])})),0)])},D=[],q=n("9588"),A={name:"ChapterManager",data:function(){return{show_dialog:!0,chapters:[]}},components:{},props:{show_Chapter_Manager:Boolean},created:function(){var t=j["a"].get("chapters");t&&(this.chapters=t)},mounted:function(){},computed:{},methods:{toggle_dialog:function(){this.show_dialog=!1},export_chapters:function(){var t=localStorage.getItem("chapters");if(t){var e="拼音练习文章.json",n=new Blob([t],{type:"text/plain;charset=utf-8"});Object(q["saveAs"])(n,e)}else alert("没有文章！")},import_chapters:function(t){var e=this;if(t.target.files.length){var n=new FileReader;n.onload=function(){if(n.result){var t=localStorage.getItem("chapters");t=t?j["a"].get("chapters"):[],t=t.concat(JSON.parse(n.result)),j["a"].set("chapters",t),e.$parent.$parent.updateChapters(),e.$emit("update:show_Chapter_Manager",!1)}},n.readAsText(t.target.files[0])}},import_pop:function(){var t=document.querySelector("#import_file");t.click()},save_chapters:function(){confirm("是否保存？")&&(j["a"].set("chapters",this.chapters),this.$parent.$parent.updateChapters(),this.$emit("update:show_Chapter_Manager",!1))},delete_chapter:function(t){this.chapters.splice(t,1)}},watch:{show_dialog:function(t){this.$emit("update:show_Chapter_Manager",t)}}},L=A,E=(n("4507"),Object(_["a"])(L,P,D,!1,null,null,null)),I=E.exports,N={name:"Setting",data:function(){return{schemes:h["a"].scheme,cs_index:h["a"].current_scheme_index,scheme_name:h["a"].get_current_scheme().name,show_Chapter_Dialog:!1,show_Chapter_Manager:!1}},components:{ChapterDialog:z,ChapterManager:I},props:{current_scheme_index:Number},mounted:function(){},methods:{},watch:{cs_index:function(t){h["a"].current_scheme_index=t,this.$emit("update:current_scheme_index",t)}}},W=N,T=(n("7900"),Object(_["a"])(W,x,k,!1,null,null,null)),B=T.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"ChapterList"}},[n("div",[t._v("(点选)文章列表:")]),t._l(t.chapters.length,(function(e){return n("div",{key:e},[n("span",{staticClass:"title",on:{click:function(n){return t.updateChapter(e-1)}}},[t._v(" "+t._s(e)+" . "+t._s(t.chapters[e-1].title)+" ")])])}))],2)},R=[],Q={name:"ChapterList",data:function(){return{}},props:{chapters:Array,current_index:Number},components:{},mounted:function(){},methods:{updateChapter:function(t){this.$emit("update:current_index",t)}}},V=Q,F=(n("726d"),Object(_["a"])(V,J,R,!1,null,null,null)),G=F.exports,H=n("ebeb"),K=n("139d"),U=n("fa5e"),X={name:"App",components:{Words:w,Setting:B,ChapterList:G,Support_QRcode:H["a"],MobileInput:K["a"]},data:function(){return{is_Chapter_Dialog:!1,current_index:0,chapters:[],current_scheme_index:0,current_chapter:{title:"",words:[]},pre_chapter:{title:"如梦令·常记溪亭日暮",words:"作者：李清照\n\t\t\t\t常记溪亭日暮，沉醉不知归路。\n\t\t\t\t兴尽晚回舟，误入藕花深处。\n\t\t\t\t争渡，争渡，惊起一滩鸥鹭。",pinyin:"zuò zhě ： lǐ qīng zhào\n\t\t\t\tcháng jì xī tíng rì mù ， chén zuì bù zhī guī lù 。\n\t\t\t\txìng jìn wǎn huí zhōu ， wù rù ǒu huā shēn chù 。\n\t\t\t\tzěn dù ， zěn dù ， jīng qǐ yī tān ōu lù 。"},line_index:0,key_index:0,keyinput:"",is_mobile:!1,key_tip:!1}},computed:{prefer_key:function(){if(this.current_scheme_index,!this.current_chapter.words[this.line_index])return"";var t=this.current_chapter.words[this.line_index][parseInt(this.key_index/2)],e=U["a"].untone(t.pinyin);if(!U["a"].is_pinyin(e))return"";if(this.key_index%2){if(h["a"].get_current_scheme().dict.special[e])return h["a"].get_current_scheme().dict.special[e][1];var n=U["a"].get_shengyun(e).yun;return h["a"].get_current_scheme().dict.yunmu[n]}if(h["a"].get_current_scheme().dict.special[e])return h["a"].get_current_scheme().dict.special[e][0];var r=U["a"].get_shengyun(e).sheng;return h["a"].get_current_scheme().dict.shengmu[r]}},created:function(){var t=this;/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)||/(Android)/i.test(navigator.userAgent)?this.is_mobile=!0:this.is_mobile=!1;var e=j["a"].get("schemes");e&&(h["a"].scheme=h["a"].scheme.concat(e)),this.updateChapters(),this.chapters.length>0?this.current_chapter=this.chapters[0]:this.current_chapter=this.format_chapter(this.pre_chapter),this.is_mobile||window.addEventListener("keypress",(function(e){t.prefer_key==e.key.toLowerCase()&&(t.pass_mark(),t.key_index++,t.skip_symbol())}),!0)},watch:{current_chapter:{handler:"updateChapter",deep:!0,immediate:!0},current_index:function(t){this.key_index=0,this.line_index=0,this.current_chapter=this.chapters[t]},keyinput:function(t){t&&1==t.length&&this.prefer_key==t&&(this.pass_mark(),this.key_index++,this.skip_symbol()),this.keyinput=""}},updated:function(){this.skip_symbol()},methods:{updateChapter:function(){var t=document.querySelectorAll(".pass");if(t)for(var e=0;e<t.length;e++)t[e].classList.remove("pass")},updateChapters:function(){var t=j["a"].get("chapters");t&&(this.chapters=this.$options.data().chapters.concat(t))},format_chapter:function(t){var e={};e.title=t.title,e.words=[];for(var n=t.words.split("\n"),r=t.pinyin.split("\n"),i=Math.min(n.length,r.length),a=0;a<i;a++){for(var s=n[a].trim().replace(/\s/g,"").split(""),c=r[a].trim().split(" "),o=Math.min(s.length,c.length),p=[],u=0;u<o;u++)p.push({char:s[u],pinyin:c[u]});p.length>0&&e.words.push(p)}return e},skip_symbol:function(){var t=this,e="";if(this.key_index%2==0){var n=function(){t.current_chapter.words[t.line_index]&&t.key_index/2>t.current_chapter.words[t.line_index].length-1&&(t.line_index++,t.key_index=0,e=".words[words_index='"+(t.line_index+1).toString()+"'] ",document.querySelector(e)&&document.querySelector(e).scrollIntoView(!1)),t.line_index>=t.current_chapter.words.length&&(document.querySelector("#practice .title").classList.add("pass"),t.sleep(700).then((function(){t.key_index=0,t.line_index=0,t.updateChapter()})))};n();while(this.current_chapter.words[this.line_index]&&0==this.current_chapter.words[this.line_index].length)n();while(this.current_chapter.words[this.line_index]&&!U["a"].is_pinyin(U["a"].untone(this.current_chapter.words[this.line_index][parseInt(this.key_index/2)].pinyin))){e=".words[words_index='"+(this.line_index+1).toString()+"'] ",e=0==this.key_index?e+"[word_index='"+(this.key_index+1).toString()+"']":e+"[word_index='"+(parseInt((this.key_index-1)/2)+2).toString()+"']",document.querySelector(e+" .char").classList.add("pass"),this.key_index=this.key_index+2,n();while(this.current_chapter.words[this.line_index]&&0==this.current_chapter.words[this.line_index].length)n()}}},pass_mark:function(){var t=".words[words_index='"+(this.line_index+1).toString()+"'] ";t=t+"[word_index='"+(parseInt(this.key_index/2)+1).toString()+"']",this.key_index%2?(document.querySelector(t+" .char").classList.add("pass"),document.querySelector(t+" .yun").classList.add("pass")):document.querySelector(t+" .sheng").classList.add("pass")},sleep:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;return new Promise((function(e){return setTimeout(e,t)}))}},mounted:function(){}},Y=X,Z=(n("c48f"),Object(_["a"])(Y,a,s,!1,null,null,null)),tt=Z.exports;i.a.config.productionTip=!1,i.a.config.devtools=!0,new i.a({render:function(t){return t(tt)}}).$mount("#PracticeApp")},"46ed":function(t,e,n){},"501d":function(t,e,n){},"726d":function(t,e,n){"use strict";var r=n("892d"),i=n.n(r);i.a},7900:function(t,e,n){"use strict";var r=n("4059"),i=n.n(r);i.a},"892d":function(t,e,n){},"8bbf":function(t,e){t.exports=Vue},9588:function(t,e){t.exports=saveAs},"9dac":function(t,e,n){},aae6:function(t,e,n){"use strict";var r=n("501d"),i=n.n(r);i.a},c48f:function(t,e,n){"use strict";var r=n("46ed"),i=n.n(r);i.a},f34c:function(t,e,n){"use strict";var r=n("9dac"),i=n.n(r);i.a}});